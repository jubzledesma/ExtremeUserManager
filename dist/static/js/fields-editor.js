wpJsonpFlightsWidget([2],{"+omK":function(t,e,s){"use strict";var a=s("mtWM"),i=s.n(a),n=s("mw3O"),o=s.n(n),l={name:"delete-field-dialog",props:{field_id:"",field_name:"",updateStatus:""},data:function(){return{loading:!1,labels:wpumFieldsEditor.labels}},methods:{deleteField:function(){var t=this;this.loading=!0,i.a.post(wpumFieldsEditor.ajax,o.a.stringify({nonce:wpumFieldsEditor.delete_field_nonce,field_id:this.field_id}),{params:{action:"wpum_delete_field"}}).then(function(e){t.loading=!1,t.updateStatus("success",e.data.data.field_id),t.$emit("close")}).catch(function(e){t.loading=!1,t.updateStatus("error",e.response.data),t.$emit("close")})}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"delete-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[s("div",{staticClass:"media-frame-title"},[s("h1",[s("span",{staticClass:"dashicons dashicons-warning delete"}),t._v(" "+t._s(t.labels.confirm_delete))])]),t._v(" "),s("div",{staticClass:"media-frame-content"},[s("p",[t._v(t._s(t.labels.fields_delete_1)+" "),s("strong",[t._v(t._s(t.field_name))])]),t._v(" "),s("p",[t._v(t._s(t.labels.fields_delete_2))])]),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("button",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{type:"button",disabled:t.loading},on:{click:function(e){return t.deleteField()}}},[t._v(t._s(t.labels.fields_delete))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])}]},r=s("VU/8")(l,d,!1,null,null,null);e.a=r.exports},"/dCL":function(t,e){},0:function(t,e){},"4wDe":function(t,e,s){"use strict";var a={name:"wp-notice",props:{type:String,alternative:Boolean,dismissible:Boolean},computed:{classes:function(){return["vue-wp-notice","notice-"+this.type,this.alternative?"is-alt":"",this.dismissible?"is-dismissible":""]}},data:function(){return{closed:!1}},methods:{close:function(t){this.closed=!0,this.$emit("on-close",t)}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.closed?t._e():s("div",{class:t.classes},[s("p",[t._t("default")],2),t._v(" "),t.dismissible?s("button",{staticClass:"notice-dismiss",attrs:{type:"button"},on:{click:t.close}},[s("span",{staticClass:"screen-reader-text"},[t._v("Dismiss this notice.")])]):t._e()])},staticRenderFns:[]};var n=s("VU/8")(a,i,!1,function(t){s("D0GN")},null,null);e.a=n.exports},Brmv:function(t,e,s){"use strict";var a=s("RUzx"),i={props:{schema:{},model:{},formOptions:{},disabled:!1},components:{Multiselect:s.n(a).a},data:function(){return{selected:null,isMultiple:this.schema.multiple}},methods:{clearValidationErrors:function(){},validate:function(){},triggerChange:function(t){var e=t;!0===this.isMultiple?(e=[],t.forEach(function(t){e.push(t.value)})):e=null===e?null:e.value,this.schema.model&&this.$set(this.model,this.schema.model,e),this.$emit("input",e)}},created:function(){var t=this,e=this.model[this.schema.model];e instanceof Array?e=e.map(function(e){return t.schema.options.find(function(t){return t.value==e})}).filter(function(t){return!!t}):"string"==typeof e&&(e=this.schema.options.find(function(t){return t.value==e})),this.selected=e}},n={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("Multiselect",{attrs:{multiple:t.isMultiple,options:t.schema.options||[],"track-by":"value",label:"label"},on:{input:t.triggerChange},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})},staticRenderFns:[]};var o=s("VU/8")(i,n,!1,function(t){s("zIwV")},null,null);e.a=o.exports},D0GN:function(t,e){},ETmr:function(t,e){},"Jvx+":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},n=s("VU/8")({name:"App"},i,!1,null,null,null).exports,o=s("/ocq"),l=s("mtWM"),d=s.n(l),r=s("mw3O"),c=s.n(r),u=s("vCKl"),p=s.n(u),m=s("w/TU"),_=s.n(m),f=(s("ETmr"),{name:"delete-dialog",props:{group:"",group_id:"",updateStatus:""},data:function(){return{loading:!1,labels:wpumFieldsEditor.labels}},methods:{deleteGroup:function(){var t=this;this.loading=!0,d.a.post(wpumFieldsEditor.ajax,c.a.stringify({nonce:wpumFieldsEditor.delete_fields_group_nonce,group_id:this.group_id}),{params:{action:"wpum_delete_field_group"}}).then(function(e){t.loading=!1,t.updateStatus("success",e),t.$emit("close")}).catch(function(e){t.loading=!1,t.updateStatus("error",e.response.data),t.$emit("close")})}}}),h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"delete-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[s("div",{staticClass:"media-frame-title"},[s("h1",[s("span",{staticClass:"dashicons dashicons-warning"}),t._v(" "+t._s(t.labels.confirm_delete))])]),t._v(" "),s("div",{staticClass:"media-frame-content"},[s("p",[t._v(t._s(t.labels.modal_group_delete)+" "),s("strong",[t._v(t._s(t.group))]),t._v(". "+t._s(t.labels.modal_delete))])]),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("button",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{type:"button",disabled:t.loading},domProps:{textContent:t._s(t.labels.table_delete_group)},on:{click:function(e){return t.deleteGroup()}}})])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])}]},v=s("VU/8")(f,h,!1,null,null,null).exports,g={name:"edit-group-dialog",props:{group_id:"",group_name:"",group_desc:"",updateGroupDetails:""},data:function(){return{loading:!1,labels:wpumFieldsEditor.labels,groupName:"",groupDescription:""}},mounted:function(){this.groupName=this.group_name,this.groupDescription=this.group_desc},methods:{updateGroup:function(){var t=this;this.loading=!0,d.a.post(wpumFieldsEditor.ajax,c.a.stringify({nonce:wpumFieldsEditor.nonce,group_id:this.group_id,group_name:this.groupName,group_description:this.groupDescription}),{params:{action:"wpum_update_fields_group"}}).then(function(e){t.loading=!1,t.updateGroupDetails("success",e.data.data),t.$emit("close")}).catch(function(e){t.loading=!1,t.updateGroupDetails("error",e.response.data),t.$emit("close")})}}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"edit-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[s("div",{staticClass:"media-frame-title"},[s("h1",[t._v(t._s(t.labels.table_edit_group))])]),t._v(" "),s("div",{staticClass:"media-frame-content"},[s("form",{staticClass:"dialog-form",attrs:{action:"#",method:"post"}},[s("label",{attrs:{for:"group-name","data-balloon":t.labels.tooltip_group_name,"data-balloon-pos":"right"}},[s("span",[t._v(t._s(t.labels.table_name))]),t._v(" "),s("span",{staticClass:"dashicons dashicons-editor-help"})]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.groupName,expression:"groupName"}],attrs:{type:"text",name:"group-name",id:"group-name",value:""},domProps:{value:t.groupName},on:{input:function(e){e.target.composing||(t.groupName=e.target.value)}}}),t._v(" "),s("label",{attrs:{for:"group-description","data-balloon":t.labels.tooltip_group_description,"data-balloon-pos":"right"}},[s("span",[t._v(t._s(t.labels.table_desc))]),t._v(" "),s("span",{staticClass:"dashicons dashicons-editor-help"})]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.groupDescription,expression:"groupDescription"}],attrs:{name:"group-description",id:"group-description",cols:"30",rows:"4"},domProps:{value:t.groupDescription},on:{input:function(e){e.target.composing||(t.groupDescription=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("button",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{type:"button",disabled:t.loading},domProps:{textContent:t._s(t.labels.save)},on:{click:function(e){return t.updateGroup()}}})])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])}]},w=s("VU/8")(g,b,!1,null,null,null).exports,C={name:"premium-dialog",data:function(){return{labels:wpumFieldsEditor.labels,wpumFieldsEditor:wpumFieldsEditor}}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"premium-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[t._m(1),t._v(" "),s("div",{staticClass:"media-frame-content"},[s("p",{domProps:{innerHTML:t._s(t.labels.premium_addon)}})]),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[s("a",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{href:t.wpumFieldsEditor.cf_addon_url,target:"_blank"}},[t._v(t._s(t.labels.purchase))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-frame-title"},[e("h1",[e("span",{staticClass:"dashicons dashicons-warning"}),this._v(" Premium addon required")])])}]},F=s("VU/8")(C,y,!1,null,null,null).exports,E={name:"create-group-dialog",props:{addNewGroup:""},data:function(){return{loading:!1,labels:wpumFieldsEditor.labels,groupName:"",groupDescription:""}},methods:{createGroup:function(){var t=this;this.loading=!0,d.a.post(wpumFieldsEditor.ajax,c.a.stringify({nonce:wpumFieldsEditor.nonce,group_name:this.groupName,group_description:this.groupDescription}),{params:{action:"wpum_create_fields_group"}}).then(function(e){t.loading=!1,t.addNewGroup("success",e.data.data),t.$emit("close")}).catch(function(e){t.loading=!1,t.addNewGroup("error",e.response.data),t.$emit("close")})}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"create-group-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[s("div",{staticClass:"media-frame-title"},[s("h1",[t._v(t._s(t.labels.table_add_group))])]),t._v(" "),s("div",{staticClass:"media-frame-content"},[s("form",{staticClass:"dialog-form",attrs:{action:"#",method:"post"}},[s("label",{attrs:{for:"group-name","data-balloon":t.labels.tooltip_group_name,"data-balloon-pos":"right"}},[s("span",[t._v(t._s(t.labels.table_name))]),t._v(" "),s("span",{staticClass:"dashicons dashicons-editor-help"})]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.groupName,expression:"groupName"}],attrs:{type:"text",name:"group-name",id:"group-name",value:""},domProps:{value:t.groupName},on:{input:function(e){e.target.composing||(t.groupName=e.target.value)}}}),t._v(" "),s("label",{attrs:{for:"group-description","data-balloon":t.labels.tooltip_group_description,"data-balloon-pos":"right"}},[s("span",[t._v(t._s(t.labels.table_desc))]),t._v(" "),s("span",{staticClass:"dashicons dashicons-editor-help"})]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.groupDescription,expression:"groupDescription"}],attrs:{name:"group-description",id:"group-description",cols:"30",rows:"4"},domProps:{value:t.groupDescription},on:{input:function(e){e.target.composing||(t.groupDescription=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("button",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{type:"button",disabled:t.loading},domProps:{textContent:t._s(t.labels.create_group)},on:{click:function(e){return t.createGroup()}}})])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])}]},T=s("VU/8")(E,x,!1,null,null,null).exports,$=s("etT0"),k=s.n($),D=s("4BeE"),S=s.n(D),N={name:"editor-interface",components:{draggable:_.a,DeleteDialog:v,EditGroupDialog:w},data:function(){return{addonInstalled:wpumFieldsEditor.is_addon_installed,pageTitle:wpumFieldsEditor.page_title,labels:wpumFieldsEditor.labels,groups:wpumFieldsEditor.groups,loading:!1,showMessage:!1,messageStatus:"success",messageText:wpumFieldsEditor.success_message,pluginURL:wpumFieldsEditor.pluginURL}},methods:{sanitized:function(t){return p()(t)},isDefault:function(t){return"1"===t},onSortingStart:function(t){this.loading=!0,console.log(t)},showSuccess:function(){this.loading=!1,this.showMessage=!0,this.messageStatus="success",this.messageText=wpumFieldsEditor.success_message,this.resetMessages()},showError:function(t){this.loading=!1,this.showMessage=!0,this.messageStatus="error",this.messageText=t,this.resetMessages()},resetMessages:function(){var t=this;setInterval(function(){t.$data.showMessage=!1},4e3)},onSortingEnd:function(t){var e=this;d.a.post(wpumFieldsEditor.ajax,c.a.stringify({nonce:wpumFieldsEditor.nonce,groups:this.groups}),{params:{action:"wpum_update_fields_groups_order"}}).then(function(t){e.showSuccess()}).catch(function(t){e.showError(t.response.data)})},showDeleteDialog:function(t,e){var s=this;this.$modal.show(v,{group:t,group_id:e,updateStatus:function(t,e){"error"==t?s.showError(e):(S()(s.groups,{id:e.data.data}),s.showSuccess())}},{height:"210px"})},showEditGroupDialog:function(t){var e=this;this.$modal.show(w,{group_id:t.id,group_name:t.name,group_desc:t.description,updateGroupDetails:function(t,s){if("error"==t)e.showError(s);else{var a=k()(e.groups,function(t){return t.id==s.id});e.groups[a].name=s.name,e.groups[a].description=s.description,e.showSuccess()}}},{height:"350px"})},showAddGroupDialog:function(){var t=this;wpumFieldsEditor.is_addon_installed?this.$modal.show(T,{addNewGroup:function(e,s){"error"==e?t.showError(s):(t.showSuccess(),t.groups.push(s))}},{height:"350px"}):this.$modal.show(F,{},{height:"220px"})}}},O={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"wpum-fields-editor-wrapper"}},[s("h1",{staticClass:"wp-heading-inline"},[s("img",{attrs:{src:t.pluginURL+"assets/images/logo.svg",alt:"WP User Manager"}}),t._v("\n\t\t"+t._s(t.pageTitle)+"\n\t")]),t._v(" "),s("a",{staticClass:"page-title-action",attrs:{href:"#",id:"wpum-add-field-group"},on:{click:function(e){return t.showAddGroupDialog()}}},[s("span",{staticClass:"dashicons dashicons-plus-alt"}),t._v(" "),s("span",{domProps:{textContent:t._s(t.sanitized(t.labels.table_add_group))}})]),t._v(" "),t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("br"),s("br"),t._v(" "),t.showMessage?s("wp-notice",{attrs:{type:t.messageStatus}},[s("strong",[t._v(t._s(t.sanitized(t.messageText)))])]):t._e(),t._v(" "),s("v-dialog"),t._v(" "),s("modals-container"),t._v(" "),s("table",{staticClass:"wp-list-table widefat fixed striped wpum-fields-groups-table"},[s("thead",[s("tr",[t.groups.length>1?s("th",{staticClass:"order-column",attrs:{scope:"col","data-balloon":t.sanitized(t.labels.table_drag_tooltip),"data-balloon-pos":"right"}},[s("span",{staticClass:"dashicons dashicons-menu"})]):t._e(),t._v(" "),s("th",{staticClass:"column-primary",attrs:{scope:"col"},domProps:{textContent:t._s(t.sanitized(t.labels.table_name))}}),t._v(" "),s("th",{attrs:{scope:"col"},domProps:{textContent:t._s(t.sanitized(t.labels.table_desc))}}),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col","data-balloon":t.sanitized(t.labels.table_default_tooltip),"data-balloon-pos":"up"},domProps:{textContent:t._s(t.sanitized(t.labels.table_default))}}),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col"},domProps:{textContent:t._s(t.sanitized(t.labels.table_fields))}}),t._v(" "),s("th",{attrs:{scope:"col"},domProps:{textContent:t._s(t.sanitized(t.labels.table_actions))}})])]),t._v(" "),s("draggable",{attrs:{element:"tbody",options:{handle:".order-anchor"}},on:{start:t.onSortingStart,end:t.onSortingEnd},model:{value:t.groups,callback:function(e){t.groups=e},expression:"groups"}},t._l(t.groups,function(e){return s("tr",{key:e.id},[t.groups.length>1?s("td",{staticClass:"order-anchor align-middle"},[s("span",{staticClass:"dashicons dashicons-menu"})]):t._e(),t._v(" "),s("td",{staticClass:"column-username has-row-actions column-primary"},[s("strong",[s("router-link",{attrs:{to:{name:"group",params:{id:e.id}}}},[t._v(t._s(e.name))])],1),s("br"),t._v(" "),s("div",{staticClass:"row-actions"},[s("span",[s("a",{attrs:{href:"#"},domProps:{textContent:t._s(t.sanitized(t.labels.table_edit_group))},on:{click:function(s){return t.showEditGroupDialog(e)}}})])]),t._v(" "),s("button",{staticClass:"toggle-row",attrs:{type:"button"}},[s("span",{staticClass:"screen-reader-text"},[t._v("Show more details")])])]),t._v(" "),s("td",{attrs:{"data-colname":"Start Date"},domProps:{innerHTML:t._s(t.sanitized(e.description))}}),t._v(" "),s("td",{attrs:{"data-colname":"End Date"}},[t.isDefault(e.id)?s("span",{staticClass:"dashicons dashicons-yes"}):t._e()]),t._v(" "),s("td",{attrs:{"data-colname":"End Date"}},[t._v(t._s(e.fields))]),t._v(" "),s("td",{staticClass:"align-middle"},[s("router-link",{staticClass:"button",attrs:{to:{name:"group",params:{id:e.id}},tag:"button",type:"submit"}},[s("span",{staticClass:"dashicons dashicons-admin-settings"}),t._v(" "),s("span",{domProps:{textContent:t._s(t.sanitized(t.labels.table_edit_fields))}})]),t._v(" "),t.isDefault(e.id)?t._e():s("button",{staticClass:"button delete-btn",attrs:{type:"submit"},on:{click:function(s){return t.showDeleteDialog(e.name,e.id)}}},[s("span",{staticClass:"dashicons dashicons-trash"}),t._v(" "),s("span",{domProps:{textContent:t._s(t.sanitized(t.labels.table_delete_group))}})])],1)])}),0)],1)],1)},staticRenderFns:[]},M=s("VU/8")(N,O,!1,null,null,null).exports,U=s("+omK"),P=s("un2d"),R=s("a7UT"),G={name:"fields-editor-interface",components:{draggable:_.a},data:function(){return{addonInstalled:wpumFieldsEditor.is_addon_installed,labels:wpumFieldsEditor.labels,group_id:"",group_name:"",fields:[],loading:!1,loading_sort:!1,showMessage:!1,messageStatus:"success",messageText:wpumFieldsEditor.success_message,pluginURL:wpumFieldsEditor.pluginURL}},created:function(){var t=this.$route.params.id.toString(),e=k()(wpumFieldsEditor.groups,function(e){return e.id==t});this.group_id=t,this.group_name=wpumFieldsEditor.groups[e].name,this.getFields()},methods:{openCreateNewFieldDialog:function(){var t=this;wpumFieldsEditor.is_addon_installed?this.$modal.show(P.a,{group_id:this.group_id,addNewField:function(e,s){if("error"==e)t.showError(s);else{t.showSuccess(),t.getFields();var a=s.field_id,i=s.field_name,n=s.field_type,o=s.default_id;t.openEditFieldDialog(a,i,n,o)}}},{height:"80%",width:"70%"}):this.$modal.show(F,{},{height:"220px"})},isRequired:function(t){return!0===t},isDefault:function(t){return!0===t},showSuccess:function(){this.loading=!1,this.showMessage=!0,this.messageStatus="success",this.messageText=wpumFieldsEditor.success_message,this.resetMessages()},showError:function(t){this.loading=!1,this.showMessage=!0,this.messageStatus="error",this.messageText=t,this.resetMessages()},resetMessages:function(){var t=this;setInterval(function(){t.$data.showMessage=!1},4e3)},onSortingEnd:function(t){var e=this;this.loading_sort=!0,d.a.post(wpumFieldsEditor.ajax,c.a.stringify({nonce:wpumFieldsEditor.nonce,fields:this.fields}),{params:{action:"wpum_update_fields_order"}}).then(function(t){e.loading_sort=!1,e.showSuccess()}).catch(function(t){e.loading_sort=!1,e.showError(t.response.data)})},getFields:function(){var t=this;this.loading=!0,d.a.get(wpumFieldsEditor.ajax,{params:{group_id:this.group_id,nonce:wpumFieldsEditor.get_fields_nonce,action:"wpum_get_fields_from_group"}}).then(function(e){t.loading=!1,void 0!==e.data.data.fields&&e.data.data.fields.length>0&&(t.fields=e.data.data.fields)}).catch(function(e){t.loading=!1,console.error(e)})},openDeleteFieldDialog:function(t,e){var s=this;this.$modal.show(U.a,{field_id:t,field_name:e,updateStatus:function(t,e){"error"==t?s.showError(e):(S()(s.fields,{id:e}),s.showSuccess())}},{height:"230px"})},openEditFieldDialog:function(t,e,s,a){var i=this;this.$modal.show(R.a,{field_id:t,field_name:e,field_type:s,primary_id:a,updateStatus:function(t){"error"==t?i.showError(i.labels.error_general):(i.showSuccess(),i.getFields())}},{height:"80%",width:"repeater"===s?"80%":"60%"})}}},V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"wpum-fields-editor-list"}},[s("h1",{staticClass:"wp-heading-inline"},[s("img",{attrs:{src:t.pluginURL+"assets/images/logo.svg",alt:"WP User Manager"}}),t._v("\n\t\t"+t._s(t.labels.fields_page_title)+' "'+t._s(t.group_name)+'"\n\t')]),t._v(" "),s("router-link",{staticClass:"page-title-action wpum-icon-button circular",attrs:{to:"/","data-balloon":t.labels.fields_go_back,"data-balloon-pos":"down"}},[s("span",{staticClass:"dashicons dashicons-arrow-left-alt"})]),t._v(" "),s("a",{staticClass:"page-title-action wpum-icon-button",on:{click:function(e){return t.openCreateNewFieldDialog()}}},[s("span",{staticClass:"dashicons dashicons-plus-alt"}),t._v(" "+t._s(t.labels.fields_add_new))]),t._v(" "),t.loading_sort?s("div",{staticClass:"spinner is-active",staticStyle:{float:"none",margin:"-8px 0 0 10px"}}):t._e(),t._v(" "),s("v-dialog"),t._v(" "),s("modals-container"),t._v(" "),t.showMessage?s("wp-notice",{attrs:{type:t.messageStatus}},[s("strong",[t._v(t._s(t.messageText))])]):t._e(),t._v(" "),s("br"),t._v(" "),s("table",{staticClass:"wp-list-table widefat fixed striped wpum-fields-groups-table"},[s("thead",[s("tr",[t.fields.length>1?s("th",{staticClass:"order-column",attrs:{scope:"col","data-balloon":t.labels.table_drag_tooltip,"data-balloon-pos":"right"}},[s("span",{staticClass:"dashicons dashicons-menu"})]):t._e(),t._v(" "),s("th",{staticClass:"column-primary",attrs:{scope:"col"}},[t._v(t._s(t.labels.fields_name))]),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col"}},[t._v(t._s(t.labels.fields_type))]),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col","data-balloon":t.labels.fields_required_tooltip,"data-balloon-pos":"up"}},[t._v(t._s(t.labels.fields_required))]),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col","data-balloon":t.labels.fields_default_tooltip,"data-balloon-pos":"up"}},[t._v(t._s(t.labels.table_default))]),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col","data-balloon":t.labels.fields_visibility_tooltip,"data-balloon-pos":"up"}},[t._v(t._s(t.labels.fields_visibility))]),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col","data-balloon":t.labels.fields_editable_tooltip,"data-balloon-pos":"up"}},[t._v(t._s(t.labels.fields_editable))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.labels.table_actions))])])]),t._v(" "),s("draggable",{attrs:{element:"tbody",options:{handle:".order-anchor",animation:150}},on:{end:t.onSortingEnd},model:{value:t.fields,callback:function(e){t.fields=e},expression:"fields"}},t._l(t.fields,function(e){return t.fields&&!t.loading?s("tr",{key:e.id},[t.fields.length>1?s("td",{staticClass:"order-anchor align-middle"},[s("span",{staticClass:"dashicons dashicons-menu"})]):t._e(),t._v(" "),s("td",{staticClass:"column-primary"},[s("a",{on:{click:function(s){return t.openEditFieldDialog(e.id,e.name,e.type,e.default_id)}}},[s("strong",[t._v(t._s(e.name))])])]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t\t"+t._s(e.type_nicename)+"\n\t\t\t\t\t")]),t._v(" "),s("td",[t.isRequired(e.required)?s("span",{staticClass:"dashicons dashicons-yes"}):t._e()]),t._v(" "),s("td",[t.isDefault(e.default)?s("span",{staticClass:"dashicons dashicons-yes"}):t._e()]),t._v(" "),s("td",["public"==e.visibility?s("span",{staticClass:"dashicons dashicons-yes"}):s("span",{staticClass:"dashicons dashicons-hidden"})]),t._v(" "),s("td",["public"==e.editable?s("span",{staticClass:"dashicons dashicons-yes"}):s("span",{staticClass:"dashicons dashicons-lock"})]),t._v(" "),s("td",{staticClass:"align-middle"},[s("button",{staticClass:"button",attrs:{type:"submit"},on:{click:function(s){return t.openEditFieldDialog(e.id,e.name,e.type,e.default_id)}}},[s("span",{staticClass:"dashicons dashicons-edit"}),t._v(" "+t._s(t.labels.fields_edit))]),t._v(" "),t.isDefault(e.default)?t._e():s("button",{staticClass:"button delete-btn",attrs:{type:"submit"},on:{click:function(s){return t.openDeleteFieldDialog(e.id,e.name)}}},[s("span",{staticClass:"dashicons dashicons-trash"}),t._v(" "+t._s(t.labels.fields_delete))])])]):t._e()}),0),t._v(" "),t.fields<1&&!t.loading?s("tr",{staticClass:"no-items"},[s("td",{staticClass:"colspanchange",attrs:{colspan:"7"}},[s("strong",[t._v(t._s(t.labels.fields_not_found))])])]):t._e(),t._v(" "),t.loading?s("tr",{staticClass:"no-items"},[t._m(0)]):t._e()],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"colspanchange",attrs:{colspan:"7"}},[e("div",{staticClass:"spinner is-active"})])}]},j=s("VU/8")(G,V,!1,null,null,null).exports;a.a.use(o.a);var z=new o.a({routes:[{path:"/",name:"groups-list",component:M},{name:"group",path:"/group/:id",component:j}]}),q=s("tkJY"),L=s("rifk"),A=s.n(L),B=s("uHTi"),I=s("Brmv"),W=s("kBzv");a.a.component("field-multiselect",I.a),a.a.component("field-repeater",B.a),a.a.use(q.a),a.a.use(A.a,{dialog:!0,dynamic:!0}),a.a.config.productionTip=!1,Object(W.a)({Vue:a.a,router:z}),new a.a({el:"#wpum-fields-editor",router:z,components:{App:n},template:"<App/>"})},a7UT:function(t,e,s){"use strict";var a=s("//Fk"),i=s.n(a),n=s("Xxa5"),o=s.n(n),l=s("exGp"),d=s.n(l),r=s("Dd8w"),c=s.n(r),u=s("mvHQ"),p=s.n(u),m=s("mtWM"),_=s.n(m),f=s("mw3O"),h=s.n(f),v=s("qe0n"),g=s.n(v),b=s("w/TU"),w=s.n(b),C=(s("4BeE"),s("TTEj")),y=s.n(C),F=(s("/dCL"),{name:"dialog-edit-field",props:{field_id:"",field_type:"",field_name:"",primary_id:"",updateStatus:""},components:{"vue-form-generator":g.a.component,draggable:w.a},data:function(){return{loading:!1,loadingFields:!1,error:!1,errorMessage:wpumFieldsEditor.labels.field_edit_settings_error,infoAvailable:!1,infoMessage:"",labels:wpumFieldsEditor.labels,tabs:wpumFieldsEditor.edit_dialog_tabs,settingsFields:"",activeTab:"general",disabledTabs:[],model:{},originalModel:{},schema:{fields:[]},formOptions:{validateAfterLoad:!0,validateAfterChanged:!0,validateDebounceTime:500,validateAsync:!0},dropdownOptions:[]}},created:function(){this.setupTabs(),this.getSettings(),void 0===this.primary_id&&null===this.primary_id&&""===this.primary_id||this.maybeRemoveSidebarTabs();var t=g.a.validators.resources;t.fieldIsRequired=this.labels.field_error_required,t.invalidTextContainSpec=this.labels.field_error_special,this.UserMetaKeyValidator()},methods:{confirmLeave:function(){return window.confirm(this.labels.confirm_message)},confirmStayInDirtyForm:function(){return this.isFormDirty()&&!this.confirmLeave()},isFormDirty:function(){return p()(this.model)!==p()(this.originalModel)},getSettings:function(){var t=this;this.loadingFields=!0,this.error=!1,this.schema.fields=[],this.dropdownOptions=[],_.a.post(wpumFieldsEditor.ajax,h.a.stringify({nonce:wpumFieldsEditor.get_fields_nonce,group:this.activeTab,field_id:this.field_id,field_type:this.field_type}),{params:{action:"wpum_get_field_settings"}}).then(function(e){t.loadingFields=!1,null===e.data.data.settings?t.error=!0:(t.schema.fields=e.data.data.settings,t.model=e.data.data.model,t.originalModel=c()({},t.model),t.dropdownOptions=e.data.data.dropdownOptions)}).catch(function(e){t.loadingFields=!1,t.error=!0})},activateTab:function(t){this.confirmStayInDirtyForm()||(this.activeTab=t,this.getSettings())},getTabClasses:function(t){return["media-menu-item",this.activeTab==t?"active":""]},maybeRemoveSidebarTabs:function(){"username"==this.primary_id?this.disabledTabs=["validation","permissions"]:"user_email"==this.primary_id?this.disabledTabs=["validation"]:"user_password"==this.primary_id?this.disabledTabs=["validation","privacy","permissions"]:"user_nickname"==this.primary_id||"user_displayname"==this.primary_id?this.disabledTabs=["validation"]:"user_avatar"!=this.primary_id&&"user_cover"!=this.primary_id||(this.disabledTabs=["privacy","permissions"])},isTabDisabled:function(t){return y()(this.disabledTabs,t)},editField:function(){var t=this;return d()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.vfg.validate();case 2:e.sent.length>0?(t.error=!0,t.errorMessage=t.labels.field_error_nosave):(t.loading=!0,t.error=!1,t.errorMessage=t.labels.field_edit_settings_error,_.a.post(wpumFieldsEditor.ajax,h.a.stringify({nonce:wpumFieldsEditor.get_fields_nonce,field_id:t.field_id,data:t.model,settings:t.schema.fields,dropdownOptions:t.dropdownOptions}),{params:{action:"wpum_update_field"}}).then(function(e){t.loading=!1,t.updateStatus("success"),t.$emit("close")}).catch(function(e){t.loading=!1,t.updateStatus("error"),t.$emit("close")}));case 4:case"end":return e.stop()}},e,t)}))()},needsOptions:function(t){return["dropdown","multiselect","multicheckbox","radio"].indexOf(t)>-1},addOption:function(){!this.dropdownOptions instanceof Array&&(this.dropdownOptions=[]),this.dropdownOptions.push({value:null,label:null})},deleteOption:function(t){this.dropdownOptions.splice(t,1)},setupTabs:function(){"repeater"!==this.field_type&&(this.tabs=this.tabs.filter(function(t){return"fields"!==t.id})),"file"!==this.field_type&&(this.tabs=this.tabs.filter(function(t){return"emails"!==t.id})),this.activeTab=this.tabs&&this.tabs[0].id},onPaste:function(t,e){var s=this,a=t.clipboardData.getData("text/plain").split(/\r?\n/);t.preventDefault();var i=a[0].split(",");this.dropdownOptions[e].value=i[0],this.dropdownOptions[e].label=i[1],a.slice(1).forEach(function(t){t=t.split(","),s.dropdownOptions.push({value:t[0],label:t[1]})})},UserMetaKeyValidator:function(){var t=this;g.a.validators.unique_user_meta_key=function(e,s,a){return""===e?[]:new i.a(function(s,a){_.a.post(wpumFieldsEditor.ajax,h.a.stringify({user_meta_key:e,field_id:t.field_id}),{params:{action:"validate_user_meta_key"}}).then(function(t){s(t.data.data.error)}).catch(function(t){return a(t)})})}}}}),E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"edit-field-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[s("div",{staticClass:"media-frame-menu"},[s("div",{staticClass:"media-menu"},[t._l(t.tabs,function(e){return t.isTabDisabled(e.id)?t._e():s("a",{key:e.id,class:t.getTabClasses(e.id),on:{click:function(s){return t.activateTab(e.id)}}},[t._v(t._s(e.name))])}),t._v(" "),s("div",{staticClass:"separator"})],2)]),t._v(" "),s("div",{staticClass:"media-frame-title"},[s("h1",[t._v(t._s(t.field_name))])]),t._v(" "),s("div",{staticClass:"media-frame-content"},[t.loadingFields?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),t.error?s("wp-notice",{attrs:{type:"error",alternative:""}},[s("strong",[t._v(t._s(t.errorMessage))])]):t._e(),t._v(" "),t.loadingFields?t._e():s("vue-form-generator",{ref:"vfg",attrs:{schema:t.schema,model:t.model,options:t.formOptions}}),t._v(" "),"general"!=t.activeTab||t.loadingFields||!t.needsOptions(t.field_type)||t.primary_id?t._e():s("div",{staticClass:"vue-form-generator"},[s("div",{staticClass:"form-group field-input"},[s("label",{attrs:{for:"placeholder"}},[t._v(t._s(t.labels.field_options))]),t._v(" "),s("div",{staticClass:"hint"},[s("p",{domProps:{innerHTML:t._s(t.labels.field_options_hint)}})]),t._v(" "),s("div",{staticClass:"field-wrap"},[s("div",{staticClass:"wrapper"},[s("draggable",{attrs:{options:{draggable:".dragme",handle:".option-sort",animation:150}},model:{value:t.dropdownOptions,callback:function(e){t.dropdownOptions=e},expression:"dropdownOptions"}},t._l(t.dropdownOptions,function(e,a){return t.dropdownOptions.length>0?s("div",{key:a,staticClass:"dropdown-option dragme"},[s("div",{staticClass:"option-value wpum_one_fifth"},[s("span",{staticClass:"dashicons dashicons-move option-sort"}),t._v(" "),s("button",{staticClass:"button delete-btn",attrs:{type:"button"},on:{click:function(e){return t.deleteOption(a)}}},[s("span",{staticClass:"dashicons dashicons-trash"})])]),t._v(" "),s("div",{staticClass:"option-label wpum_two_fifth"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dropdownOptions[a].value,expression:"dropdownOptions[index].value"}],attrs:{type:"text",placeholder:t.labels.field_option_value,name:"option[value][]"},domProps:{value:t.dropdownOptions[a].value},on:{paste:function(e){return t.onPaste(e,a)},input:function(e){e.target.composing||t.$set(t.dropdownOptions[a],"value",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"option-label wpum_two_fifth last"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dropdownOptions[a].label,expression:"dropdownOptions[index].label"}],attrs:{type:"text",placeholder:t.labels.field_option_label,name:"option[label][]"},domProps:{value:t.dropdownOptions[a].label},on:{input:function(e){e.target.composing||t.$set(t.dropdownOptions[a],"label",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"wpum_clearfix"})]):t._e()}),0),t._v(" "),s("input",{staticClass:"button",attrs:{type:"button",value:t.labels.field_add_option},on:{click:t.addOption}})],1)])])])],1),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("button",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{type:"button",disabled:t.loading},on:{click:function(e){return t.editField()}}},[t._v(t._s(t.labels.save))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])}]};var x=s("VU/8")(F,E,!1,function(t){s("n4qj")},"data-v-ec45cd54",null);e.a=x.exports},kBzv:function(t,e,s){"use strict";s.d(e,"a",function(){return i});var a=s("mDNQ"),i=function(t){var e=t.Vue,s=t.router,i=new CustomEvent("wpum-api-ready",{detail:{Vue:e,Router:s,Hooks:a.a}});window.dispatchEvent(i)}},m7mx:function(t,e){},mDNQ:function(t,e,s){"use strict";var a=s("L4ss"),i=Object(a.a)();e.a=i},n4qj:function(t,e){},uHTi:function(t,e,s){"use strict";var a=s("woOf"),i=s.n(a),n=s("qe0n"),o=s.n(n),l=s("un2d"),d=s("w/TU"),r=s.n(d),c=s("mtWM"),u=s.n(c),p=s("mw3O"),m=s.n(p),_=s("a7UT"),f=s("+omK"),h={mixins:[o.a.abstractField],components:{"dialog-create-field":l.a,draggable:r.a},data:function(){return{labels:wpumFieldsEditor.labels,clonedLabels:i()({},wpumFieldsEditor.labels),fields:[],state:"list",repeater:null,editField:{},loading:!0}},methods:{getFields:function(){var t=this;this.$parent.loading=!0,u.a.get(wpumFieldsEditor.ajax,{params:{group_id:this.model.group,nonce:wpumFieldsEditor.get_fields_nonce,action:"wpum_get_fields_from_group",parent_id:this.model.parent}}).then(function(e){t.$parent.loading=!1,void 0!==e.data.data.fields&&e.data.data.fields.length>0&&(t.fields=e.data.data.fields),t.loading=!1}).catch(function(e){t.$parent.loading=!1,console.error(e),t.loading=!1})},addedNewField:function(t,e){this.state="list","error"!==t&&(this.getFields(),this.openEditFieldDialog(e.field_id,e.field_name,e.field_type,e.default_id))},openEditFieldDialog:function(t,e,s,a){var i=this;this.$modal.show(_.a,{field_id:t,field_name:e,field_type:s,primary_id:a,updateStatus:function(t){i.getFields()}},{height:"80%",width:"repeater"===s?"80%":"60%",clickToClose:!1})},openDeleteFieldDialog:function(t,e){var s=this;this.$modal.show(f.a,{field_id:t,field_name:e,updateStatus:function(t,e){s.getFields()}},{height:"230px"})},onSortingEnd:function(){var t=this;this.$parent.$parent.$parent.loading=!0,u.a.post(wpumFieldsEditor.ajax,m.a.stringify({nonce:wpumFieldsEditor.nonce,fields:this.fields}),{params:{action:"wpum_update_fields_order"}}).then(function(e){t.$parent.$parent.$parent.loading=!1}).catch(function(e){t.$parent.$parent.$parent.loading=!1})}},mounted:function(){this.labels.fields_add_new=this.labels.repeater_fields_add_new,this.labels.fields_create=this.labels.repeater_fields_create},created:function(){this.repeater=wpumFieldsEditor.fields_types.advanced.fields.find(function(t){return"repeater"===t.type}),this.repeater&&(wpumFieldsEditor.fields_types.advanced.fields=wpumFieldsEditor.fields_types.advanced.fields.filter(function(t){return"repeater"!==t.type})),this.getFields()},destroyed:function(){this.repeater&&wpumFieldsEditor.fields_types.advanced.fields.push(this.repeater),this.labels.fields_add_new=this.clonedLabels.fields_add_new,this.labels.fields_create=this.clonedLabels.fields_create}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"repeater-wrapper"},["add"===t.state?s("div",[s("dialog-create-field",{attrs:{group_id:t.$route.params.id.toString(),addNewField:t.addedNewField,parent:this.model.parent}})],1):s("div",[s("a",{staticClass:"page-title-action wpum-icon-button",on:{click:function(e){t.state="add"}}},[s("span",{staticClass:"dashicons dashicons-plus-alt"}),t._v(" "+t._s(t.labels.fields_add_new)+"\n\t\t")]),t._v(" "),s("table",{staticClass:"wp-list-table widefat fixed striped wpum-fields-groups-table"},[s("thead",[s("tr",[t.fields.length>1?s("th",{staticClass:"order-column",attrs:{scope:"col","data-balloon":t.labels.table_drag_tooltip,"data-balloon-pos":"right"}},[s("span",{staticClass:"dashicons dashicons-menu"})]):t._e(),t._v(" "),s("th",{staticClass:"column-primary",attrs:{scope:"col"}},[t._v(t._s(t.labels.fields_name))]),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col"}},[t._v(t._s(t.labels.fields_type))]),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col","data-balloon":t.labels.fields_required_tooltip,"data-balloon-pos":"up"}},[t._v(t._s(t.labels.fields_required))]),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col","data-balloon":t.labels.fields_visibility_tooltip,"data-balloon-pos":"up"}},[t._v(t._s(t.labels.fields_visibility))]),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col","data-balloon":t.labels.fields_editable_tooltip,"data-balloon-pos":"up"}},[t._v(t._s(t.labels.fields_editable))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.labels.table_actions))])])]),t._v(" "),t.loading?s("tbody",[s("tr",[s("td",{attrs:{colspan:t.fields.length>1?7:6}},[s("div",{staticClass:"spinner is-active"})])])]):s("draggable",{attrs:{element:"tbody",options:{handle:".order-anchor",animation:150}},on:{end:t.onSortingEnd},model:{value:t.fields,callback:function(e){t.fields=e},expression:"fields"}},t._l(t.fields,function(e){return s("tr",{key:e.id},[t.fields.length>1?s("td",{staticClass:"order-anchor align-middle"},[s("span",{staticClass:"dashicons dashicons-menu"})]):t._e(),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.type_nicename))]),t._v(" "),s("td",[!0===e.required?s("span",{staticClass:"dashicons dashicons-yes"}):t._e()]),t._v(" "),s("td",["public"==e.visibility?s("span",{staticClass:"dashicons dashicons-yes"}):s("span",{staticClass:"dashicons dashicons-hidden"})]),t._v(" "),s("td",["public"==e.editable?s("span",{staticClass:"dashicons dashicons-yes"}):s("span",{staticClass:"dashicons dashicons-lock"})]),t._v(" "),s("td",{staticClass:"align-middle"},[s("button",{staticClass:"button",on:{click:function(s){return t.openEditFieldDialog(e.id,e.name,e.type,e.default_id)}}},[s("span",{staticClass:"dashicons dashicons-edit"}),t._v(" "+t._s(t.labels.fields_edit))]),t._v(" "),s("button",{staticClass:"button delete-btn",on:{click:function(s){return t.openDeleteFieldDialog(e.id,e.name)}}},[s("span",{staticClass:"dashicons dashicons-trash"}),t._v(" "+t._s(t.labels.fields_delete))])])])}),0)],1)])])},staticRenderFns:[]};var g=s("VU/8")(h,v,!1,function(t){s("m7mx")},"data-v-2775a459",null);e.a=g.exports},un2d:function(t,e,s){"use strict";var a=s("mtWM"),i=s.n(a),n=s("mw3O"),o=s.n(n),l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{class:t.selected,on:{click:function(e){return t.enable()}}},[s("div",{staticClass:"attachment-preview js--select-attachment",style:t.divStyle,attrs:{title:t.divTitle}},[s("div",{staticClass:"thumbnail"},[s("div",{staticClass:"table-fixed"},[s("div",{staticClass:"table-cell"},[s("span",{class:t.classes})])])]),t._v(" "),s("div",{staticClass:"filename"},[s("div",[t._v(t._s(t.name))])])]),t._v(" "),t.locked?s("div",{staticClass:"locked-type"},[s("span",{staticClass:"dashicons-lock dashicons"})]):t._e(),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"check",attrs:{type:"button",tabindex:"-1"}},[e("span",{staticClass:"media-modal-icon"}),this._v(" "),e("span",{staticClass:"screen-reader-text"},[this._v("Deselect")])])}]},d={name:"dialog-create-field",components:{FieldTypeBox:s("VU/8")({name:"field-type-box",props:{name:"",icon:"",type:"",enabled:!1,locked:!1,min_version:!1},computed:{classes:function(){return["dashicons",this.icon]},selected:function(){return["attachment save-ready",this.enabled?"details selected":""]},divStyle:function(){return this.locked?"opacity: 40%":""},divTitle:function(){return this.locked?"Requires the Custom Fields addon version "+this.min_version+" or higher":""}},methods:{enable:function(t){this.locked||this.$emit("click",t)}}},l,!1,null,null,null).exports},props:{group_id:"",addNewField:"",parent:{type:Number,default:0}},data:function(){return{loading:!1,labels:wpumFieldsEditor.labels,types:wpumFieldsEditor.fields_types,selectedTypeTab:"standard",newFieldName:"",newFieldType:""}},methods:{isDefault:function(t){return"default"==t},activateTypeTab:function(t){this.selectedTypeTab=t},getActiveTypeTabClasses:function(t){return["media-menu-item",t==this.selectedTypeTab&&"active"]},isTypeSelected:function(t){return this.newFieldType==t},selectFieldType:function(t){this.newFieldType=t},canSubmit:function(){return!!(this.newFieldName&&this.newFieldName.trim().length&&this.newFieldType&&this.newFieldType.trim().length)},createField:function(){var t=this;this.loading=!0,i.a.post(wpumFieldsEditor.ajax,o.a.stringify({nonce:wpumFieldsEditor.create_field_nonce,field_name:this.newFieldName,field_type:this.newFieldType,group_id:this.group_id,parent:this.parent}),{params:{action:"wpum_create_field"}}).then(function(e){t.loading=!1,t.addNewField("success",e.data.data),t.$emit("close")}).catch(function(e){t.loading=!1,t.addNewField("error",e.response.data),t.$emit("close")})}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"create-field-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[s("div",{staticClass:"media-frame-title"},[s("h1",[t._v(t._s(t.labels.fields_add_new))])]),t._v(" "),s("div",{staticClass:"media-frame-router"},[s("div",{staticClass:"media-router"},t._l(t.types,function(e,a){return t.isDefault(a)?t._e():s("a",{key:a,class:t.getActiveTypeTabClasses(a),on:{click:function(e){return t.activateTypeTab(a)}}},[t._v("\n\t\t\t\t\t"+t._s(e.group_name)+"\n\t\t\t\t")])}),0)]),t._v(" "),s("div",{staticClass:"media-frame-content"},[s("form",{attrs:{action:"post"}},[s("label",{attrs:{for:"field-name"}},[t._v("\n\t\t\t\t\t"+t._s(t.labels.field_new_name)+"\n\t\t\t\t")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newFieldName,expression:"newFieldName"}],attrs:{type:"text",name:"field-name",id:"field-name",disabled:t.loading,placeholder:t.labels.field_new_placeholder},domProps:{value:t.newFieldName},on:{input:function(e){e.target.composing||(t.newFieldName=e.target.value)}}})]),t._v(" "),t._l(t.types,function(e,a){return t.selectedTypeTab!=a||t.isDefault(a)?t._e():s("div",{key:a,staticClass:"types-wrapper"},[s("ul",{staticClass:"attachments"},t._l(e.fields,function(e,a){return s("field-type-box",{key:a,attrs:{name:e.name,icon:e.icon,type:e.type,locked:e.locked,min_version:e.min_addon_version,enabled:t.isTypeSelected(e.type)},on:{click:function(s){return t.selectFieldType(e.type)}}})}),1)])})],2),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("button",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{type:"button",disabled:t.loading||!t.canSubmit()},domProps:{textContent:t._s(t.labels.fields_create)},on:{click:function(e){return t.createField()}}})])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])}]},c=s("VU/8")(d,r,!1,null,null,null);e.a=c.exports},zIwV:function(t,e){}},["Jvx+"]);
//# sourceMappingURL=fields-editor.js.map